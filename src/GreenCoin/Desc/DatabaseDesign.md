# this is the important parts of the application whicj is database design
- how the data flow work 
- when and how user create the database for thier points
- redeem those points for the free food 

          HOW THE DATA FLOW WORK
FIRST the user register with only username and then user can login with created username this can help us to make simple GUI or logic for the end user, we can make more complex the app but that is not more comfortable for the end user, with this process the user complated the first phase of the application and then progress the next phase ( main home page ).
    WHEN AND HOW USER CREATE THE DATABASE FOR THIER POINTS
AFTER the user pass the auth phase user get 2 point for bonus with in situation the user create the database with those points and username (LocalStorage) ...

//DATABASE CODE HERE 
// FIRESTORE DATABASE FIREBASE SERVICE BACKEND AS A SERVICE

// CREATING DATABASE FOR MY APPLICATION
    // IN FIREBASE WEBSITE LETS CREATE A PROJECT
    // EX: GREENPOINT
// AFTER CREATING THE PROJECT IN A FIREBASE WEBSITE WE HAVE TO ADD COLLECTION WITH DOCUMENT
                                  TABLE    
                                GREENPOINT
                        NAME   STRING   "MULLERKING"
                        POINT  NUMBER    23         
                //  THIS IS OUR DATABASAE DESING LETS MOVE TO THE OTHER PHASE
// AFTER CREATING OUR DATABASE ARCTECTURE, LETS ADD THE DATA TO IT
CODE HERE
- WE HAVE FIREBASAE SET UP CODE
      IMPORT {INTIALIZERAPP...} FROM 'FIREBASE/APP'
      IMPORT {GETFIRESTORE} FROM 'FIREBASE/FIRESTORE'

      {
          // VARIABLE HERE

      } 

      CONST APP = INTIALIZERAPP(VARIABLE HERE);  
      EXPORT CONST DB = GETFIRESTORE(APP);
// WE JUST FINISH OUR FIREBASE SET UP NOW LETS MOVE TO ANOTHER FILE

// THIS PROCESS DEALS WITH WHEN USER REGISTER THE FIRST TIME...
ADD USER.JS
IMPORT { DB } FROM './FIREBASE-CONFIG';
IMPORT { COLLECTION , AddDOCS } FROM './FIREBASE/FIRESSTORE';

CONST DATABASEREF = COLLECTION(DB , "GREENPOINT");
CONST HANDLEAddUSER = ASYNC () => {
    CONST NEWUSER = [
        LOCALSTORAGE = {
        USER: LOCALSTORAGE LAY YALEWUN NAME REFER ADRGEW,
        POINT: 2
        }
    ]
    AWAIT AddDOCS(DATABASEREF , {NAME: NEWUSER.USER , POINT: NEWUSER.POINT});
}

// IN THIS PHASE WE ARE DEALING WITH DEISPLAYING USER INFORMATION INCLUDING NAME AND POINT TO THE MAIN GREENPOINT PAGE
DISPLAY.JS
IMPORT { DB } FROM './FIREBASE-CONFIG';
IMPORT { COLLECTION , GETDOCS , DOC , UPDATEDOC} FROM 'FIREBASE/FIRESTORE';
CONST DATABASEREF = COLLECTION(DB , "GREENPOINT");
// USEFFECT( () => {
    CONST GETUSERDATA = ASYNC  () => {
        CONST DATA = AWAIT GETDOCS(DATABASEREF);
        CONST RESPONSE = DATA.DOCS.MAP( (DOC) => ({...DOC.DATA() , ID: DOC.ID}));
        SETSOMESTATE(RESPONSE);
    }
}, [])

CONST USERDATA = SOMESTATE.FILTER( (KNOWN) => KNOWN.NAME === LOCALSTORAGE);

CONST HANDLEUPDATE = (ID , POINT) => {
     CONST NEWVAL = DOC(DB , "GREENPOINT" , ID);
     CONST UPDATEVALUE = {POINT: POINT + 2};
     UPDATEDOC(NEWVAL , UPDATEVALUE);
}

USERDATA.MAP( (USER) => {
    <p>{USER.NAME}</P>
    <p>{USER.POINT}</P>
    REFERAL CODE INPUTER
    <BUTTON ONCLICK{ () => HANDLEUPDATE(USER.ID , USER.POINT)}>GET MY POINT</BUTTON>
})

#SIGN IN WITH GOOGLE AUTHENTICATION WITH FIREBASE
IN FIREBASE.JS
      IMPORT {INTIALIZERAPP...} FROM 'FIREBASE/APP'
      IMPORT { GETAUTH , GOOGLEPROVIDER} FROM 'FIREBASE/AUTH'

      {
          // VARIABLE HERE

      } 

      CONST APP = INTIALIZERAPP(VARIABLE HERE);  
      EXPORT CONST AUTH = GETAUTH(APP);
      EXPORT CONST GOOGLEPROVIDER = NEW GOOGLEPROVIDER


# IN ANOTHER JS FILE JUST START AUTHENTICATION
IMPORT { AUTH , GOOGLEPROVIDER } FROM './FIREBASE';
IMPORT { SIGNINWITHPOPUP } FROM './FIREBASE/AUTH';

LETS ASSUME WE HAVE A BUTTON SIGNIN WITH GOOGLE POPUP 

CONST SIGNINWITHGOOGLEPOPUP = ASYNC () => {
     AWAIT SIGNINWITHPOPUP( AUTH , GOOGLEPROVIDER )
     .THEN( (RESULT) => {
        CONSOLE.LOG(RESULT)
        // TO GET THE RELEVANT VALUES FROM THIS PROMISE WE USE LOCALSTORAGE TO STORE THOSE INFORMATION
        LOCALSORAGE.SETITEM("NAME" , RESULT.USER.NAME)
        LOCALSORAGE.SETITEM("EMAIL" , RESULT.USER.EMAIL)
        LOCALSORAGE.SETITEM("PROFILEPIC" , RESULT.USER.PHOTOURL)
        // NOW WE HAVE FINISH THE AUTH PROCESS IF WE WANT TO GET THOSE RELEVANT VALUES WE JUST CALL LOCALSTORAGE TO DISPLAY THE INFO EX: IF YOU WANT TO DISPLAY USER PHOTO -LOCALSTORAGE.GETITEM("PROFILEPIC") // NOW WE JUST GET THE USER PROFILE PIC AND THE OTHERS GOES TO LIKE THIS
     }).CATCH( (ERROR) => {
        CONSOLE.LOG(ERROR)
     })
} 
